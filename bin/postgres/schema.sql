CREATE SCHEMA STOREDB;

CREATE TABLE STOREDB.ROLES(
  ROLE_ID BIGSERIAL PRIMARY KEY,
  ROLE_NAME VARCHAR(64)
);

CREATE TABLE STOREDB.USERS(
  USER_ID BIGSERIAL PRIMARY KEY,
  USERNAME VARCHAR(64) UNIQUE NOT NULL,
  PASSWORD VARCHAR(255) NOT NULL
);

CREATE TABLE STOREDB.USER_ROLES(
   USER_ID BIGINT NOT NULL,
   ROLE_ID BIGINT NOT NULL,
  PRIMARY KEY(USER_ID, ROLE_ID),
  FOREIGN KEY (USER_ID) REFERENCES STOREDB.USERS (USER_ID) ON DELETE CASCADE,
  FOREIGN KEY (ROLE_ID) REFERENCES STOREDB.ROLES (ROLE_ID) ON DELETE CASCADE
);